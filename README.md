

#  MuSuBi (結び) - 音楽体験を繋ぐコミュニティプラットフォーム

> **「検索を超え、新しい音楽との縁を結ぶ旅」**
> 音楽専攻者としての視点から、既存のストリーミング市場における順位操作問題を解決し、ユーザーの純粋な「投票（Voting）」によって信頼できる音楽コンテンツを共有・発見できるプラットフォームです。

---

## 1.  プロジェクト概要

* **名称:** MuSuBi (Music + 結び)
* **開発背景:** 音楽業界の不透明なチャート操作問題に対するオルタナティブとして、透明性の高いランキングシステムと自由な音楽交流の場を提供。
* **コンセプト:** 日本の「結び（Musubi）」という言葉のように、音楽を通じて人と人を繋ぐ体験をデザインしました。

---

## 2. 技術スタック (Tech Stack)

最新のLTSバージョンを採用し、モダンな開発環境を構築しています。

| カテゴリ | 使用技術 |
| --- | --- |
| **Backend** | **Java 21 (LTS)**, Spring Boot 3.2.5 |
| **Frontend** | JavaScript, Thymeleaf, Tailwind CSS |
| **Database** | PostgreSQL, pgAdmin 4 |
| **Security** | Spring Security 6 (RBACベースの権限管理) |
| **Build Tool** | Gradle |

---

## 3.  主な実装詳細 (Implementation Details)

### ① パフォーマンスと保守性を考慮した DTO 設計

* **目的別の DTO 分離**: `MusicListDto`（一覧用）と `MusicDetailDto`（詳細用）を分離。
* **メリット**: エンティティの直接露出を防ぎ、ネットワークトラフィックを最適化。また、Lombokの `@Builder` を活用し、可読性の高いコードを実現。

### ② 実践的なサーバー運用設定

* **大容量ファイル対応**: `spring.servlet.multipart` 設定により、最大50MBの音楽ファイルアップロードに対応。
* **リソース管理**: 物理的な保存パス（`C:/sbb_uploads//`）と仮想パス（`/uploads/**`）をマッピングし、サーバー内のリソースを効率的に管理。
* **ロギング戦略**: `Logback` を活用し、日別・サイズ別のローテーションポリシーを適用。運用時のトラブルシューティングを容易にしました。

### ③ インテリジェントなメディアハンドリング

* **Regexによる自動抽出**: 正規表現を用いて YouTube URL からビデオIDを抽出し、サムネイル画像を自動生成。
* **データの整合性**: JPAの `CascadeType.REMOVE` を適用し、音楽投稿の削除時にコメントなどの関連データが孤立しないよう設計。

---

##  システムアーキテクチャ (ERD)

* **site_user**: 権限（User/Admin）を含むユーザー管理。
* **music**: YouTubeメタデータとアップロードパスの管理。
* **music_voter**: 多対多（N:M）関係を解法し、1人1投票の信頼性を担保。
* **answer**: コンテンツごとのコメント管理。

---

## 課題解決事例 (Technical Challenges)

### 【大量データにおけるランキングの効率化】

* **課題**: リアルタイムで投票数を集計し、ソートする際のパフォーマンス低下。
* **解決**: Java **Stream API** を活用し、DTO変換と同時にソートロジックを処理。DB側の負荷を軽減しつつ、スムーズなランキング表示を実現しました。

### 【セキュリティと権限管理の厳格化】

* **課題**: 管理者機能への不正アクセス防止。
* **解決**: `Spring Security` の **Method Security (`@PreAuthorize`)** を導入し、コントローラーレベルで権한をチェック。不適切なアクセスを未然に遮断しました。

---

## 🇯🇵 日本企業へのアピールポイント

1. **最新技術への適応力**: Java 21やSpring Boot 3.xといった最新スタックを使いこなし、常に最適な技術選定を意識しています。
2. **実務を見据えた設計**: ログ管理、ファイル容量制限、DTOパターンなど、実際の商用サービスで求められる要素を網羅しています。
3. **ストーリー性のある開発**: 「音楽専攻」というバックグラウンドを活かし、明確な目的意識（チャート操作の解決）を持って開発に取り組む姿勢を大切にしています。

---

###  実行方法 (Getting Started)

```bash
git clone https://github.com/whgusghkd777-debug/MusicCHo13.git
cd Musicjoe2
./gradlew bootRun
# 初期管理者アカウント: admin / 1234 (DataInitializerにより自動生成)

```

---

**連絡先:** [あなたのメールアドレス]

---   チョヒョンファン　と申します。
  メール  whgusghkd777@gmail.com 
  電話番号　＋82 10 - 7481 - 2589




