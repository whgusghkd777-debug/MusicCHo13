
---

# 🎵 MuSuBi (結び) - 音楽体験を繋ぐコミュニティプラットフォーム

> **「検索を超え、新しい音楽との縁を結ぶ旅」**
> 音楽専攻者として感じた現代のストリーミング市場における順位操作などの問題を解決するため、ユーザーによる真実の「投票（Voting）」と自由な共有を通じて、信頼できる音楽探究を提供するサービスです。

---

## 1. 📋 プロジェクト概要 (プロジェクト概要)

* **プロジェクト名:** MuSuBi (Music + 結び)
* **開発背景:** 視聴数やストリーミング操作の懸念がない、純粋に良い音楽を「旅する」ような体験を提供するために企画しました。
* **コアコンセプト:** 「音楽で人を繋ぐ（結び）」という意味を込め、ユーザー間の音楽的な絆を強調します。

---

## 2. 🛠 技術スタック (技術スタック)

日本のIT業界で標準的に採用されている技術スタックを活用し、保守性と安定性を確保しました。

| カテゴリ | 使用技術 |
| --- | --- |
| **Backend** | Java 17, Spring Boot 3.x |
| **Frontend** | JavaScript, Thymeleaf, CSS |
| **Database** | PostgreSQL (Managed by pgAdmin 4) |
| **Security** | Spring Security (RBACベースの権限管理) |
| **Others** | Gradle, Lombok, Jakarta Validation |

---

## 3. 🏗 データベース設計 (ERD)

データの整合性と拡張性を考慮したリレーショナルデータベース設計です。

* **site_user**: ユーザー情報および権限（Admin/User）管理
* **music**: YouTubeメタデータおよびアップロードファイルの情報を管理
* **music_voter**: 重複投票を防止するためのN:M関係の投票テーブル
* **answer**: 音楽コンテンツに基づくコミュニケーションのためのコメントテーブル

---

## 4. 🚀 主な機能と実装詳細 (主な機能と実装詳細)

### ① スマートメディアハンドリング (利便性とUX)

* **YouTube IDの自動抽出**: 正規表現（Regex）を用いて、ユーザーがURLを入力するだけでビデオIDを解析し、サムネイルを自動的にマッピングします。
* **マルチコンテンツ対応**: YouTubeリンク共有に加え、ローカルファイルのアップロード機能もサポートし、コンテンツの多様性を確保しました。

### ② エンタープライズセキュリティ (セキュリティと運用)

* **権限ベースのアクセス制御 (RBAC)**: `SecurityConfig`を通じて管理者の管理画面（`/admin/**`）と一般ユーザーのアクセス権限を厳格に分離しました。
* **データ初期化の自動化**: `CommandLineRunner`を活用し、サービス起動時に管理者アカウントを自動生成することで、運用効率を向上させました。

### ③ データの信頼性確保 (整合性)

* **1人1投票システム**: JPAの`Set<SiteUser>`を活用した関連付けにより、同一曲に対する重複推薦を防止し、公平なランキングを実現しました。
* **入力値バリデーション**: `Jakarta Validation`を適用し、不適切なデータがサーバーサイドに流入することを未然に防ぎます。

---

## 5. 💡 課題解決事例 (技術的な工夫)

### 【課題：大量データの効率的なソート】

* **問題点**: 音楽リストの照会時、リアルタイムの推薦数を反映したソートが必要。
* **解決策**: Java **Stream API**を活用し、サービスレイヤーでEntityからDTOへの変換と同時にソート処理を行うことで、DBの負荷を分散しつつコードの可読性を高めました。

### 【課題：データ整合性の維持】

* **問題点**: 音楽投稿の削除時、関連するコメントが孤立してしまう現象。
* **解決策**: JPAの`cascade = CascadeType.REMOVE`設定により、親エンティティ削除時に関連する子エンティティ（コメント）も同時に削除されるよう設計し、DBの整合性を確保しました。

---

## 6. 🇯🇵 日本市場へのアピールポイント (強み)

1. **ドメイン知識の融合**: 音楽専攻者として業界のペインポイントを正確に把握し、それをIT技術で解決する**「ビジネス理解力」**を備えています。
2. **クリーンコードと保守性**: DTOパターンの適用やドメイン別のパッケージ構成により、**「読みやすいコード」**と**「拡張可能な設計」**を徹底しています。
3. **堅牢な例外処理**: ユーザーの入力から権限管理に至るまで、多段階の例外処理を行い、システムの安定性を最優先に考慮しています。

---

### 📥 インストールおよび実行方法

```bash
git clone https://github.com/whgusghkd777-debug/MusicCHo13.git
cd Musicjoe2
./gradlew bootRun
# 初期管理者アカウント: admin / 1234

```

---

**連絡先:** [あなたのメールアドレス]

---

